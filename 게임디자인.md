# 해골 MMORPG - 게임 디자인 문서

## 1. 게임 개요
- 장르: 2D 탑다운 MMORPG + 생활/수집
- 플랫폼: 웹 브라우저
- 아트 스타일: 귀여운 해골 캐릭터 (파츠 기반 애니메이션)
- 컨셉: 전투와 생활이 공존하는 세계

## 2. 스탯 시스템

### 기본 스탯
- STR (힘): 근접 공격력, 무거운 장비 착용
- DEX (민첩): 원거리 공격력, 공격속도, 회피
- INT (지능): 마법 공격력, 마나량
- VIT (체력): HP, 방어력
- LUK (운): 치명타, 드롭률, 채집 보너스

### 스탯 포인트
- 레벨업 시 5포인트 획득
- 자유롭게 분배
- 전직 조건에 영향

### 스탯 효과
STR 1당:
  - 근접 공격력 +2
  - 최대 무게 +5

DEX 1당:
  - 원거리 공격력 +2
  - 공격속도 +0.5%
  - 회피율 +0.3%

INT 1당:
  - 마법 공격력 +2
  - 최대 마나 +5
  - 마나 회복 +0.5%

VIT 1당:
  - 최대 HP +10
  - 방어력 +1
  - HP 회복 +1%

LUK 1당:
  - 치명타 확률 +0.5%
  - 아이템 드롭률 +0.3%
  - 희귀 자원 확률 +0.2%

## 3. 직업 시스템

### 기본 직업 (Base)
- 시작 스탯: 모두 5
- 조건 없음

### 1차 전직 (레벨 10 + 스탯 조건)

전사 (Warrior)
- 조건: Lv.10 + STR 20 이상
- 보너스: STR +5, VIT +3

궁수 (Archer)
- 조건: Lv.10 + DEX 20 이상
- 보너스: DEX +5, LUK +3

마법사 (Mage)
- 조건: Lv.10 + INT 20 이상
- 보너스: INT +5, VIT +3

도적 (Thief)
- 조건: Lv.10 + DEX 15 + LUK 15 이상
- 보너스: DEX +3, LUK +5

### 2차 전직 (레벨 30 + 스탯 조건)

전사 계열:
  검사 (Sword)
  - 조건: Lv.30 + STR 50 + DEX 20
  - 특성: 균형잡힌 공/방
  
  둔기사 (Blunt)
  - 조건: Lv.30 + STR 60 + VIT 30
  - 특성: 느리지만 고대미지
  
  봉술사 (Bong)
  - 조건: Lv.30 + STR 40 + DEX 40
  - 특성: 빠른 연타

궁수 계열:
  보우마스터 (Bow)
  - 조건: Lv.30 + DEX 60 + STR 20
  - 특성: 기본 강화형
  
  석궁사 (Crossbow)
  - 조건: Lv.30 + DEX 40 + STR 40
  - 특성: 느리지만 관통
  
  거너 (Gunner)
  - 조건: Lv.30 + DEX 50 + LUK 30
  - 특성: 빠른 연사

마법사 계열:
  원소술사 (Element)
  - 조건: Lv.30 + INT 60 + DEX 20
  - 특성: 속성 마법
  
  흑마법사 (Evil)
  - 조건: Lv.30 + INT 50 + LUK 30
  - 특성: 저주/디버프
  
  신관 (Holy)
  - 조건: Lv.30 + INT 50 + VIT 30
  - 특성: 힐/버프

도적 계열:
  대거마스터 (Dagger)
  - 조건: Lv.30 + DEX 50 + STR 30
  - 특성: 연속 공격
  
  암살자 (Knife)
  - 조건: Lv.30 + DEX 40 + LUK 40
  - 특성: 치명타 특화
  
  격투가 (Fighter)
  - 조건: Lv.30 + STR 40 + DEX 30 + VIT 20
  - 특성: 맨손 콤보

### 전직 퀘스트
- 스탯 조건 충족 후 전직관 방문
- 전직 퀘스트 수행 (사냥/수집/보스)
- 퀘스트 완료 시 전직 완료

## 4. 생활 스킬 (전투 직업과 별개로 성장)

### 생활 스킬 종류
- 벌목: 도끼로 나무 베기 → 목재 획득
- 채광: 곡괭이로 광석 캐기 → 광석 획득
- 채집: 낫으로 약초/식물 캐기 → 재료 획득
- 낚시: 낚싯대로 물고기 낚기 → 물고기 획득
- 요리: 재료 조합 → 버프 음식 제작
- 제작: 장비/도구 제작
- 연금: 포션/강화석 제작

### 생활 스킬 레벨
- 각 스킬별 1~100 레벨
- 높은 레벨 = 더 좋은 자원/제작품

### LUK 스탯 연동
- LUK 높으면 희귀 자원 확률 증가
- LUK 높으면 제작 대성공 확률 증가

## 5. 도구 시스템

### 전투 무기
- 검, 활, 총, 칼, 뼈, 봉, 포크
- 직업별 장착 제한
- STR/DEX/INT 요구치 있음

### 생활 도구
- 도끼: 나무 벌목 (STR 영향)
- 곡괭이: 광석 채굴 (STR 영향)
- 낫: 약초/작물 채집 (DEX 영향)
- 낚싯대: 낚시 (LUK 영향)

### 도구 등급
- 나무 → 돌 → 철 → 강철 → 미스릴
- 높은 등급 = 빠른 채집, 요구 스탯 증가

## 6. 자원 시스템

### 나무 (벌목)
- 일반 나무 → 목재
- 참나무 → 단단한 목재 (STR 15 필요)
- 신비한 나무 → 마법 목재 (STR 30 필요)

### 광석 (채광)
- 구리 광석 (STR 5)
- 철 광석 (STR 15)
- 은 광석 (STR 25)
- 금 광석 (STR 35)
- 미스릴 광석 (STR 50)

### 약초 (채집)
- 치유초 (DEX 5)
- 마나꽃 (DEX 15)
- 독초 (DEX 25)
- 희귀 약초 (DEX 40)

### 물고기 (낚시)
- 일반 물고기 (LUK 5)
- 희귀 물고기 (LUK 30)

## 7. 제작 시스템

### 요리
- 재료 조합 → 버프 음식
- 구운 생선: 체력 회복
- 스테이크: STR 버프
- 샐러드: DEX 버프

### 장비 제작
- 목재 + 광석 → 무기
- 광석 + 가죽 → 방어구
- 요구 스탯 있는 장비 제작 가능

### 포션 제작
- 약초 조합 → 물약
- 체력 포션, 마나 포션, 버프 포션

## 8. 퀘스트 시스템

### 메인 퀘스트
- 스토리 진행
- 전직 퀘스트 포함
- 주요 지역 해금

### 서브 퀘스트
- NPC 부탁
- 보상: 경험치, 골드, 아이템

### 일일 퀘스트
- 매일 초기화
- 몬스터 토벌, 자원 채집 등
- 보상: 일일 코인

### 업적 퀘스트
- 장기 목표
- 보상: 칭호, 희귀 아이템

### 생활 퀘스트
- 자원 납품, 제작
- 생활 스킬 경험치 보상

## 9. 맵 구조

### 마을
- 안전지대
- NPC: 상점, 창고, 퀘스트, 전직관
- 시설: 요리대, 대장간, 연금술 테이블

### 필드
- 레벨별 사냥터
- 자원 스폰 지역
- 낚시터

### 던전
- 파티 콘텐츠
- 보스전

### PvP 존
- 자유 대전 지역

## 10. 소셜 시스템
- 채팅: 전체/파티/길드/귓속말
- 파티: 최대 4인
- 길드: 길드 창고, 길드 버프
- 거래: 1:1 거래, 경매장

## 11. 기술 스택

### Frontend
- React
- Canvas API (게임 렌더링)
- Zustand 또는 Redux (상태 관리)

### Backend
- Node.js + Express
- Socket.io (실시간 멀티플레이)

### Database & Auth
- Supabase (PostgreSQL)
- Supabase Auth (회원가입/로그인)
- Supabase Realtime (실시간 동기화 보조)

### 배포
- Frontend: Vercel 또는 Netlify
- Backend: Railway 또는 Render

## 12. 데이터베이스 스키마 (Supabase)

### users
- id (uuid, PK)
- email (text)
- created_at (timestamp)

### characters
- id (uuid, PK)
- user_id (uuid, FK → users)
- name (text)
- level (int, default 1)
- exp (int, default 0)
- job_class (text, default 'base')
- job_tier (int, default 0)
- str (int, default 5)
- dex (int, default 5)
- int (int, default 5)
- vit (int, default 5)
- luk (int, default 5)
- stat_points (int, default 0)
- hp (int)
- max_hp (int)
- mp (int)
- max_mp (int)
- gold (int, default 0)
- position_x (float)
- position_y (float)
- current_map (text)

### inventory
- id (uuid, PK)
- character_id (uuid, FK → characters)
- item_id (uuid, FK → items)
- quantity (int)
- slot (int)

### items
- id (uuid, PK)
- name (text)
- description (text)
- type (text: weapon/armor/tool/material/consumable)
- subtype (text: sword/bow/axe/ore/herb 등)
- rarity (text: common/uncommon/rare/epic/legendary)
- req_level (int)
- req_str (int)
- req_dex (int)
- req_int (int)
- effects (jsonb)
- stack_max (int)
- sell_price (int)

### equipment
- id (uuid, PK)
- character_id (uuid, FK → characters)
- slot (text: weapon/head/body/accessory/tool)
- item_id (uuid, FK → items)

### life_skills
- id (uuid, PK)
- character_id (uuid, FK → characters)
- logging_level (int, default 1)
- logging_exp (int, default 0)
- mining_level (int, default 1)
- mining_exp (int, default 0)
- gathering_level (int, default 1)
- gathering_exp (int, default 0)
- fishing_level (int, default 1)
- fishing_exp (int, default 0)
- cooking_level (int, default 1)
- cooking_exp (int, default 0)
- crafting_level (int, default 1)
- crafting_exp (int, default 0)
- alchemy_level (int, default 1)
- alchemy_exp (int, default 0)

### quests
- id (uuid, PK)
- name (text)
- description (text)
- type (text: main/sub/daily/achievement/life)
- requirements (jsonb)
- rewards (jsonb)
- prerequisite_quest_id (uuid, nullable)

### quest_progress
- id (uuid, PK)
- character_id (uuid, FK → characters)
- quest_id (uuid, FK → quests)
- status (text: available/in_progress/completed/claimed)
- progress (jsonb)
- started_at (timestamp)
- completed_at (timestamp)

### recipes
- id (uuid, PK)
- name (text)
- type (text: cooking/crafting/alchemy)
- ingredients (jsonb)
- result_item_id (uuid, FK → items)
- result_quantity (int)
- req_skill_level (int)

### monsters
- id (uuid, PK)
- name (text)
- level (int)
- hp (int)
- attack (int)
- defense (int)
- exp_reward (int)
- gold_reward_min (int)
- gold_reward_max (int)
- drops (jsonb)

### guilds
- id (uuid, PK)
- name (text)
- leader_id (uuid, FK → characters)
- level (int)
- created_at (timestamp)

### guild_members
- id (uuid, PK)
- guild_id (uuid, FK → guilds)
- character_id (uuid, FK → characters)
- role (text: leader/officer/member)
- joined_at (timestamp)

### chat_messages
- id (uuid, PK)
- channel (text: global/party/guild/whisper)
- sender_id (uuid, FK → characters)
- receiver_id (uuid, nullable, FK → characters)
- message (text)
- created_at (timestamp)